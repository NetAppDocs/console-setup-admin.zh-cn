---
sidebar: sidebar 
permalink: task-installing-https-cert.html 
keywords: https certificate, certificate, adding, installing, ca, certificate authority, format, encoding, restricted mode, access 
summary: 在受限模式下使用NetApp Console时，安装 CA 签名的证书以便用户访问基于 Web 的控制台。 
---
= 安装 CA 签名的证书以进行基于 Web 的控制台访问
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
当您在受限模式下使用NetApp Console时，可以从部署在云区域或本地的控制台代理虚拟机访问用户界面。默认情况下，控制台使用自签名 SSL 证书为控制台代理上运行的基于 Web 的控制台提供安全的 HTTPS 访问。

如果您的业务需要，您可以安装由证书颁发机构 (CA) 签名的证书，它比自签名证书提供更好的安全保护。安装证书后，当用户访问基于 Web 的控制台时，控制台将使用 CA 签名的证书。



== 安装 HTTPS 证书

安装由 CA 签名的证书，以便安全访问在控制台代理上运行的基于 Web 的控制台。

.关于此任务
您可以使用以下选项之一安装证书：

* 从控制台生成证书签名请求 (CSR)，将证书请求提交给 CA，然后在控制台代理上安装 CA 签名的证书。
+
控制台用于生成 CSR 的密钥对存储在控制台代理内部。当您在控制台代理上安装证书时，控制台会自动检索相同的密钥对（私钥）。

* 安装您已有的 CA 签名证书。
+
使用此选项，CSR 不会通过控制台生成。您单独生成 CSR 并将私钥存储在外部。安装证书时，您需要向控制台提供私钥。



.步骤
. 选择“*管理 > 代理*”。
. 在*概述*页面上，选择控制台代理的操作菜单并选择*HTTPS 设置*。
+
控制台代理必须处于活动状态才能对其进行编辑。

. 在 HTTPS 设置页面中，通过生成证书签名请求 (CSR) 或安装您自己的 CA 签名证书来安装证书：
+
[cols="25,75"]
|===
| 选项 | 描述 


| 生成 CSR  a| 
.. 输入控制台代理主机的主机名或 DNS（其通用名称），然后选择 *生成 CSR*。
+
控制台显示证书签名请求。

.. 使用 CSR 向 CA 提交 SSL 证书请求。
+
证书必须使用隐私增强邮件 (PEM) Base-64 编码的 X.509 格式。

.. 上传证书文件，然后选择*安装*。




| 安装您自己的 CA 签名证书  a| 
.. 选择*安装 CA 签名证书*。
.. 加载证书文件和私钥，然后选择*安装*。
+
证书必须使用隐私增强邮件 (PEM) Base-64 编码的 X.509 格式。



|===


.结果
控制台代理现在使用 CA 签名的证书来提供安全的 HTTPS 访问。下图显示了配置为安全访问的代理：

image:screenshot_https_cert.gif["屏幕截图：显示安装签名证书后的 HTTPS 设置页面。该页面显示证书属性和更新证书的选项。"]



== 续订控制台 HTTPS 证书

您应该在代理的 HTTPS 证书到期之前更新它，以确保安全访问。如果您未在证书到期前续订，则当用户使用 HTTPS 访问 Web 控制台时会出现警告。

.步骤
. 选择“*管理 > 代理*”。
. 在*概述*页面上，选择控制台代理的操作菜单并选择*HTTPS 设置*。
+
显示有关证书的详细信息，包括到期日期。

. 选择*更改证书*并按照步骤生成 CSR 或安装您自己的 CA 签名证书。

