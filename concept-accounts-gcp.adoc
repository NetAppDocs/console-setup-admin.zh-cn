---
sidebar: sidebar 
permalink: concept-accounts-gcp.html 
keywords: cloud provider accounts, gcp, gcp accounts, google cloud platform, google accounts, google cloud platform accounts, permissions, project, google cloud project, credential, bluexp 
summary: 了解NetApp控制台如何使用 Google Cloud 凭证代表您执行操作以及这些凭证如何与市场订阅相关联。了解这些详细信息有助于您管理一个或多个 Google Cloud 项目的凭据。例如，您可能想要了解与控制台代理 VM 关联的服务帐户。 
---
= 了解 Google Cloud 项目和权限
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
了解NetApp控制台如何使用 Google Cloud 凭证代表您执行操作以及这些凭证如何与市场订阅相关联。了解这些详细信息有助于您管理一个或多个 Google Cloud 项目的凭据。例如，您可能想要了解与控制台代理 VM 关联的服务帐户。



== NetApp控制台的项目和权限

您必须先部署控制台代理，然后才能使用控制台管理 Google Cloud 项目中的资源。代理不能在您的场所或不同的云提供商中运行。

直接从控制台部署控制台代理之前，必须具备两组权限：

. 您需要使用具有从控制台启动控制台代理 VM 实例权限的 Google 帐户部署控制台代理。
. 部署控制台代理时，系统会提示您选择 https://cloud.google.com/iam/docs/service-accounts["服务帐户"^]用于虚拟机实例。控制台从服务帐户获取权限来创建和管理Cloud Volumes ONTAP系统、使用NetApp备份和恢复管理备份等等。通过将自定义角色附加到服务帐户来提供权限。


下图描述了上面第 1 项和第 2 项中描述的权限要求：

image:diagram_permissions_gcp.png["概念图描绘了 Google 和服务帐户部署Cloud Volumes ONTAP 的权限要求。"]

要了解如何设置权限，请参阅以下页面：

* link:task-install-agent-google-console-gcloud.html#agent-permissions-google["设置标准模式的 Google Cloud 权限"]
* link:task-prepare-restricted-mode.html#step-6-prepare-cloud-permissions["设置限制模式的权限"]




== 凭证和市场订阅

当您在 Google Cloud 中部署控制台代理时，控制台会为控制台代理所在项目中的 Google Cloud 服务帐号创建一组默认凭据。这些凭证必须与 Google Cloud Marketplace 订阅相关联，以便您可以支付Cloud Volumes ONTAP和NetApp数据服务的费用。

link:task-adding-gcp-accounts.html["了解如何关联 Google Cloud Marketplace 订阅"] 。

请注意以下有关 Google Cloud 凭据和市场订阅的事项：

* 一个控制台代理只能关联一组 Google Cloud 凭据
* 您只能将一个 Google Cloud Marketplace 订阅与凭据关联
* 您可以使用新的订阅替换现有的市场订阅




== Cloud Volumes ONTAP项目

Cloud Volumes ONTAP可以与控制台代理位于同一项目中，也可以位于不同的项目中。要在不同的项目中部署Cloud Volumes ONTAP ，您需要首先将控制台代理服务帐户和角色添加到该项目。

* link:task-install-agent-google-console-gcloud.html#agent-permissions-google["了解如何设置服务帐户"]
* https://docs.netapp.com/us-en/storage-management-cloud-volumes-ontap/task-deploying-gcp.html["了解如何在 Google Cloud 中部署Cloud Volumes ONTAP并选择项目"^]

